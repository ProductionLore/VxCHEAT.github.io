$("#form_signin").submit(function(){loadingBtnOn("#signInBtn");$.ajax({url:"/auth/signin/confirm/",type:'POST',data:{user_email:$(this).find('#user_email').val(),user_password:$(this).find('#password').val(),auth_time:$(this).find('#auth_time').is(':checked'),recaptcha:$(this).find('#recaptcha').val(),_token:$(this).find('[name="_token"]').val()},dataType:'json',success:function(data){alerts(data['type'],data['message']);loadingBtnOff("#signInBtn");if(data['type']=='success'){setTimeout(function(){window.location.href="/profile/";},1500);}},error:function(data){alerts('error','Неизвестная ошибка');loadingBtnOff("#signInBtn");}});GenCaptcha(site_key);return false;});$("#form_signup").submit(function(){loadingBtnOn("#signUpBtn");$.ajax({url:"/auth/signup/confirm/",type:'POST',data:{user_login:$(this).find('#user_login').val(),user_email:$(this).find('#user_email').val(),user_password:$(this).find('#user_password').val(),recaptcha:$(this).find('#recaptcha').val(),_token:$(this).find('[name="_token"]').val()},dataType:'json',success:function(data){alerts(data['type'],data['message']);loadingBtnOff("#signUpBtn");if(data['type']=='success'){setTimeout(function(){window.location.href="/profile/";},1500);}},error:function(data){alerts('error','Error');loadingBtnOff("#signUpBtn");}});GenCaptcha(site_key);return false;});$("#form_reset").submit(function(){loadingBtnOn("#resetBtn");$.ajax({url:"/auth/reset/confirm/",type:'POST',data:{user_email:$(this).find('#user_email').val(),recaptcha:$(this).find('#recaptcha').val(),_token:$(this).find('[name="_token"]').val()},dataType:'json',success:function(data){alerts(data['type'],data['message']);loadingBtnOff("#resetBtn");if(data['type']=='success'){setTimeout(function(){window.location.href="/auth/signin";},1500);}},error:function(data){alerts('error','Error');loadingBtnOff("#resetBtn");}});GenCaptcha(site_key);return false;});$('#user_password').keyup(function(){checkPass();}).focus(function(){checkPass();$('#user_password_condition').show('fade');}).blur(function(){$('#user_password_condition').fadeOut(400);});function checkPass(){var idPass='user_password';var password=$('#'+idPass).val();if(password.length<8){$('#'+idPass+'_condition #length').removeClass('green');$('#'+idPass+'_condition #length').addClass('red');$('#'+idPass+'_condition #length #icon').html('<i class="fa-solid fa-xmark"></i>');}else if(password.length>50){$('#'+idPass+'_condition #length').removeClass('red');$('#'+idPass+'_condition #length').addClass('green');$('#'+idPass+'_condition #length #icon').html('<i class="fa-solid fa-check"></i>');}else if(password.length>=8&&password.length<50){$('#'+idPass+'_condition #length').removeClass('red');$('#'+idPass+'_condition #length').addClass('green');$('#'+idPass+'_condition #length #icon').html('<i class="fa-solid fa-check"></i>');}
if(password.match(/[A-Z]/)){$('#'+idPass+'_condition #letter').removeClass('red');$('#'+idPass+'_condition #letter').addClass('green');$('#'+idPass+'_condition #letter #icon').html('<i class="fa-solid fa-check"></i>');}else{$('#'+idPass+'_condition #letter').removeClass('green');$('#'+idPass+'_condition #letter').addClass('red');$('#'+idPass+'_condition #letter #icon').html('<i class="fa-solid fa-xmark"></i>');}
if(password.match(/[0-9]/)){$('#'+idPass+'_condition #number').removeClass('red');$('#'+idPass+'_condition #number').addClass('green');$('#'+idPass+'_condition #number #icon').html('<i class="fa-solid fa-check"></i>');}else{$('#'+idPass+'_condition #number').removeClass('green');$('#'+idPass+'_condition #number').addClass('red');$('#'+idPass+'_condition #number #icon').html('<i class="fa-solid fa-xmark"></i>');}}
$(document).ready(function(){GenCaptcha(site_key);});